<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TerapiaConect</title>
    <style>
      /* Estilos globais para os botões de IA garantindo que sempre fiquem acima do iframe */
      .ai-tools-container-direct {
        position: fixed !important;
        bottom: 100px !important;
        left: 0 !important;
        width: 100% !important;
        height: auto !important;
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
        pointer-events: none !important;
        z-index: 2147483647 !important;
      }

      .ai-simple-toolbar {
        display: flex !important;
        gap: 10px !important;
        background-color: rgba(0, 0, 0, 0.8) !important;
        border-radius: 50px !important;
        padding: 8px 16px !important;
        backdrop-filter: blur(5px) !important;
        -webkit-backdrop-filter: blur(5px) !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5) !important;
        pointer-events: all !important;
      }

      .ai-simple-button {
        background-color: #2a3e4c !important;
        color: white !important;
        border: none !important;
        border-radius: 50px !important;
        padding: 8px 16px !important;
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        font-size: 14px !important;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
      }
      
      .ai-simple-button:hover:not(:disabled) {
        background-color: #3a5268 !important;
        transform: translateY(-2px) !important;
      }
      
      .ai-simple-button:active:not(:disabled) {
        transform: translateY(0) !important;
      }
      
      .ai-simple-button:disabled {
        opacity: 0.5 !important;
        cursor: not-allowed !important;
      }
      
      .ai-simple-button span[role="img"] {
        font-size: 18px !important;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <!-- Removendo o container que estava causando conflitos -->
    <!-- <div id="ai-tools-container" style="display: none;"></div> -->
    <script type="module" src="/src/main.jsx"></script>
    <script>
      // Desativando a limpeza automática de botões que estava causando erros
      // Esta função estava causando conflitos com os componentes React
      /*
      function cleanupOldAIButtons() {
        try {
          // Remover qualquer container antigo de AI
          const oldContainers = [
            '.ai-buttons-container',
            '.ai-toolbar',
            '.ai-tools-wrapper',
            '.ai-tools-container',
            '.ai-buttons-wrapper',
            '.ai-tools'
          ];
          
          oldContainers.forEach(selector => {
            const elements = document.querySelectorAll(selector);
            elements.forEach(el => {
              // Verificar se o elemento está gerenciado pelo React
              const isReactManaged = 
                el.hasAttribute('data-react-managed') || 
                el.id === 'react-ai-buttons' || 
                el.className === 'ai-tools-container-direct' ||
                el.closest('#root') || 
                el.closest('.meeting-container') ||
                el.hasAttribute('data-component');
              
              if (el && !isReactManaged) {
                console.log('Index.html: Removendo container não gerenciado:', el.className || el.id);
                // Usar método seguro com verificação
                if (el.parentNode) {
                  el.parentNode.removeChild(el);
                }
              }
            });
          });
          
          // Procurar e remover botões específicos pelo texto ou classe
          document.querySelectorAll('button').forEach(button => {
            // Verificar se o botão está dentro de um componente React
            const isInReactComponent = 
              button.closest('[data-react-managed]') || 
              button.closest('#react-ai-buttons') ||
              button.closest('#root') ||
              button.closest('.meeting-container') ||
              button.hasAttribute('data-button-type');
            
            if (isInReactComponent) {
              return; // Pular botões gerenciados pelo React
            }
            
            const text = button.textContent || '';
            if (
              (text.includes('Analisar') || 
               text.includes('Sugestões') || 
               text.includes('Relatório')) && 
              !button.closest('.ai-tools-container-direct')
            ) {
              console.log('Index.html: Removendo botão não gerenciado:', text);
              const parent = button.parentElement;
              if (parent && parent.children.length <= 3) {
                if (parent.parentNode) {
                  parent.parentNode.removeChild(parent); // Remover o container inteiro se tiver poucos filhos
                }
              } else {
                if (button.parentNode) {
                  button.parentNode.removeChild(button); // Remover só o botão
                }
              }
            }
          });
        } catch (error) {
          console.error('Erro ao limpar botões antigos:', error);
        }
      }

      // Garantir que os botões de IA sempre sejam visíveis
      document.addEventListener('DOMContentLoaded', function() {
        // Limpar primeiro com um atraso para garantir que o React já renderizou
        setTimeout(cleanupOldAIButtons, 3000);
        
        // Verificar periodicamente e limpar botões antigos - com frequência reduzida
        setInterval(cleanupOldAIButtons, 15000);
      });
      */
    </script>
  </body>
</html>
